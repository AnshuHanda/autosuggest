<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" href="unbxdAutosuggest.css">
	<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/2.0.0/handlebars.min.js"></script>
	<script src="//code.jquery.com/jquery-1.10.2.js"></script>
	<script src="unbxdAutosuggest.js"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
	<style type="text/css">
		*{
			font-family: proxima-nova,Arial, sans-serif;
		}
.rt{
	float:right;
}

.lt{
	float: left;
}

.clearfix{
	
  box-sizing: content-box;
  width: 250px;
  height: 730px;

}
.searchBar{
	position: absolute;
  	left: 300px;
  	top: 50px;
}
.clearfix:after{
	clear: both;
	content: ".";
	display: block;
	font-size: 0px;
	height: 0px;
	visibilty: hidden;

}
	</style>
</head>
<body>
	<div id="inputField">
		

		<div class="clearfix" >
			<div >
				
				<div style="padding:5px 20px;">
					
					max no of keywords<br>
					<input type="text" name="keywords" value="2" size=4px >
				</div>

				<div style="padding:5px 20px;">
					
					keywords Header<br>
					<input type="text" name="headerKeywords" >
				</div>
				<div style="padding:5px 20px;">
					max no of topqueries<br>
					<input type="text" name="topqueries" value="2" size=4px>
				</div>
				<div style="padding:5px 20px;">
					
					topqueries Header<br>
					<input type="text" name="headerTopqueries" >
				</div>
			</div>
			<div >
				<div style="padding:5px 20px;">
					max no of in-fields<br>
					<input type="text" name="infields" value="2" size=4px>
				</div>
				<div style="padding:5px 20px;">
					
					in-fields Header<br>
					<input type="text" name="headerInfields">
				</div>
				<div style="padding:5px 20px;">
					max no of products<br>
					<input type="text" name="products" value="2" size=4px>
				</div>
				<div style="padding:5px 20px;">
					
					products Header<br>
					<input type="text" name="headerProducts">
				</div>
				<div style="padding:5px 20px;">
					
					Main Width<br>
					<input type="text" name="widthMain">
				</div>
				<div style="padding:5px 20px;">
					
					Side Width<br>
					<input type="text" name="widthSide">
				</div>
			</div>
			
				
		<div style="padding:5px 20px;">MainTpl
			<select class="form-control" id="MainTpl" multiple>
  				<option value="inFields">inFields</option>
  				<option value="keywordSuggestions">keywordSuggestions</option>
 				<option value="topQueries">topQueries</option>
  				<option value="popularProducts">popularProducts</option>
			</select>	
		</div>
		<div style="padding:5px 20px;">SideTpl
			<select class="form-control" id="SideTpl" multiple>
  				<option value="inFields">inFields</option>
  				<option value="keywordSuggestions">keywordSuggestions</option>
 				<option value="topQueries">topQueries</option>
  				<option value="popularProducts">popularProducts</option>
			</select>	
		</div>
		
		<div style="padding:5px 20px;">
			<input type="radio" name="template" value="1column" checked>1column &nbsp;
			<input type="radio" name="template" value="2column">2column 
		</div>
		<div style="padding:5px 20px;">
			<input type="radio" name="sideContent" value="left">left &nbsp;
			<input type="radio" name="sideContent" value="right">right
		</div>
		<div style="padding:5px 20px;">
			<input type="checkbox" name="showcarts" value="1"> Show add-to-carts
			<br>
			<input type="radio" name="cartType" value="inline">inline &nbsp;
			<input type="radio" name="cartType" value="separate">separate
		</div>
		
	
	<div>
		<input id="input"  class="autoCmplt-input input-0 searchBar"  placeholder="Please type here to search " type="text"  size="75" style="padding:4px;"/>
		<div id="custombody">
		</div>
	</div>
	<script type="text/javascript">
	
	

	$(function(){
		unbxdAutoSuggestFunction($, Handlebars);

		window.auto = $("#input").unbxdautocomplete({
			siteName : 'demosite-u1407617955968'
			,APIKey : '64a4a2592a648ac8415e13c561e44991'
			,minChars : 2
			,showCarts : false
			,template : "1column" // "2column"
			,cartType : "separate"
			,width : 300
			,mainTpl: ['inFields', 'keywordSuggestions', 'topQueries', 'popularProducts']
			,sideTpl: []
			,onItemSelect : function(){
				console.log("onItemSelect",arguments);
			}
			,onCartClick : function(obj){
				console.log("addtocart",this, arguments);

				return true;
			}
			,inFields:{
				count: 2,
				fields:{
					'brand':3
					,'category':3
					,'color':3
				}
				,header:''
			},
			topQueries:{
				count: 2
				,header:''

			},
			
			keywordSuggestions:{
				count: 2
				,header:''
			}
			,popularProducts:{
				count: 2
				,price:true
				,priceFunctionOrKey : "price"
				,image:true
				,imageUrlOrFunction: "imageUrl"
				,currency : "Rs."
				,header:''
			}
		});
		/*counts start*/
		$("input[name=keywords]").blur(function(){
			console.log("keywordSuggestions.count", parseInt(this.value));
			auto[0].auto.setOption("keywordSuggestions.count", parseInt(this.value));
		});

		$("input[name=topqueries]").blur(function(){
			console.log("topQueries.count", parseInt(this.value));
			auto[0].auto.setOption("topQueries.count", parseInt(this.value));
		});

		$("input[name=infields]").blur(function(){
			console.log("inFields.count", parseInt(this.value));
			auto[0].auto.setOption("inFields.count", parseInt(this.value));
		});

		$("input[name=products]").blur(function(){
			console.log("popularProducts.count", parseInt(this.value));
			auto[0].auto.setOption("popularProducts.count", parseInt(this.value));
		});
		/*counts end*/


		/*header starts*/

		$("input[name=headerKeywords]").blur(function(){
			console.log("keywordSuggestions.header", this.value);
			auto[0].auto.setOption("keywordSuggestions.header", this.value);
		});

		$("input[name=headerTopqueries]").blur(function(){
			console.log("topQueries.header", this.value);
			auto[0].auto.setOption("topQueries.header", this.value);
		});

		$("input[name=headerInfields]").blur(function(){
			console.log("inFields.header", this.value);
			auto[0].auto.setOption("inFields.header", this.value);
		});

		$("input[name=headerProducts]").blur(function(){
			console.log("popularProducts.header", this.value);
			auto[0].auto.setOption("popularProducts.header", this.value);
		});

		

		/*header ends*/
		$("input[name=widthMain]").blur(function(){
			
			auto[0].auto.setOption("mainWidth", this.value);
		});
		$("input[name=widthSide]").blur(function(){
			
			auto[0].auto.setOption("sideWidth", this.value);
		});


		$("input[name=template]").change(function(){
			console.log("template", (this.value));
			auto[0].auto.setOption("template", (this.value));
		});

		$("input[name=sideContent]").change(function(){
			console.log("sideContentOn", (this.value));
			auto[0].auto.setOption("sideContentOn", (this.value));
		});

		$("input[name=showcarts]").change(function(){
			console.log("showCarts",$(this).is(":checked"));
			auto[0].auto.setOption("showCarts", $(this).is(":checked"));
		});

		$("input[name=cartType]").change(function(){
			console.log("cartType", (this.value));
			auto[0].auto.setOption("cartType", (this.value));
		});
		
		var values = [];
		$('#MainTpl').change(function(){
			values=[];
			$('#MainTpl :selected').each(function(i, selectedElement) {
 				values[i] = $(selectedElement).val();
 				$("#SideTpl option[value='"+ values[i] + "']").attr('disabled', true ); 
			});
			auto[0].auto.setOption("mainTpl", values);
		});

		$('#SideTpl').change(function(){
			values=[];
			$('#SideTpl :selected').each(function(i, selectedElement) {
 				values[i] = $(selectedElement).val();
 				$("#MainTpl option[value='"+ values[i] + "']").attr('disabled', true );
			});
			auto[0].auto.setOption("sideTpl", values);
		});
			
	});
	</script>
	<script type="text/javascript">
		var UnbxdSiteName = "demosite-u1407617955968",UnbxdAPIKey = "64a4a2592a648ac8415e13c561e44991";
		var s=document.createElement("script");
		s.src="//unbxd.s3.amazonaws.com/unbxdAnalytics.js";
		s.type="text/javascript";
		s.async=true;
		document.getElementsByTagName('head').item(0).appendChild(s);
	</script>
</body>
</html>
